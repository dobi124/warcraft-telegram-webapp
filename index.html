<script>
  const splash = document.getElementById("splash");
  const video = document.getElementById("video");
  const content = document.getElementById("content");

  const alreadyWatched = localStorage.getItem("videoWatched");

  setTimeout(() => {
    splash.classList.add("fade-out");

    setTimeout(() => {
      splash.style.display = "none";

      if (alreadyWatched) {
        // Если видео уже смотрели → сразу показываем бегунок
        content.style.display = "flex";
        setTimeout(() => content.classList.add("show"), 50);
      } else {
        // Первый раз → показываем видео
        video.style.display = "block";
        video.volume = 0.5; // Установим громкость 50%
        video.play().catch(err => {
          console.log("Автовоспроизведение заблокировано:", err);
        });

        video.addEventListener("ended", () => {
          video.style.display = "none";
          content.style.display = "flex";
          setTimeout(() => content.classList.add("show"), 50);
          localStorage.setItem("videoWatched", "true");
        });
      }
    }, 1000); // ждём анимацию скрытия
  }, 5000); // загрузочный экран 5 секунд
</script>
